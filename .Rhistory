theme(legend.position = c(0.87,0.20),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.title  = element_blank(),
axis.ticks.y.left = element_blank(),
strip.background = element_rect(fill="white"),
axis.ticks.x = element_blank(),
text = element_text(colour = "black", size = 8),
axis.text.x = element_text(angle = 45, hjust = 1),
plot.background = element_rect(fill = "white"),
panel.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
#legend.margin = element_rect(fill = "white"),
legend.key = element_rect(fill = "white"),
panel.grid.major.x = element_blank(),
panel.grid.major.y = element_line(color = "#9d9d9c", size = 0.1)) +
scale_x_continuous(limits = c(0, 5000),
labels = Svensk_Antal) +
scale_y_continuous(breaks = seq(0, 2000, 500)) +
färg6 +
facet_wrap(~ Grupp_Namn, 2)
install.packages("installr")
install.packages(c("audio", "backports", "bit", "bit64", "boot", "broom", "class", "cli", "clipr", "codetools", "colorspace", "cowplot", "data.table", "dbplyr", "DescTools", "digest", "dplyr", "expm", "flextable", "forcats", "fs", "generics", "ggalluvial", "gganimate", "ggforce", "ggplot2", "ggpubr", "ggrepel", "gh", "glue", "gtools", "haven", "htmltools", "htmlwidgets", "igraph", "janitor", "KernSmooth", "knitr", "labeling", "lattice", "lifecycle", "lubridate", "magrittr", "MASS", "Matrix", "mgcv", "modelr", "mvtnorm", "nlme", "nnet", "odbc", "officer", "openssl", "openxlsx", "osmdata", "pillar", "pkgbuild", "plotly", "plyr", "processx", "promises", "ps", "purrr", "R6", "raster", "Rcpp", "RcppEigen", "readr", "reshape2", "rJava", "rlang", "rmarkdown", "rprojroot", "rstudioapi", "scales", "spatial", "stringi", "survival", "sys", "systemfonts", "testthat", "tibble", "tidyr", "tidyselect", "tinytex", "Unicode", "usethis", "vctrs", "writexl", "xfun", "xlsx", "xml2", "zip"))
library(installr)
updateR()
install.R()
library(installr)
install.packages("intallr")
library(tidyr)
install.packages("tidyr")
uppdatera <- function(list) {
list.of.packages <- list
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
}
uppdatera(c("tidyr"))
uppdatera(c("readxl"))
uppdatera(c('tidyr',
'readxl',
'stringr',
'ggplot2',
'gganimate',
'png',
'writexl',
'janitor',
'xlsx',
'odbc',
'DBI',
'gridExtra',
'ggpubr',
'ggridges',
'httr',
'jsonlite',
'lubridate',
'utf8',
'openxlsx',
'janitor',
'ggthemes',
'ggalluvial',
'ggforce',
'plotly',
'dplyr',
'flextable',
'officer',
'extrafont'
))
uppdatera(c('tidyr',
'readxl',
'stringr',
'ggplot2',
'gganimate',
'png',
'writexl',
'janitor',
'xlsx',
'odbc',
'DBI',
'gridExtra',
'ggpubr',
'ggridges',
'httr',
'jsonlite',
'lubridate',
'utf8',
'openxlsx',
'janitor',
'ggthemes',
'ggalluvial',
'ggforce',
'plotly',
'dplyr',
'flextable',
'officer',
'extrafont'
))
uppdatera(c('tidyr',
'readxl',
'stringr',
'ggplot2',
'gganimate',
'png',
'writexl',
'janitor',
'xlsx',
'odbc',
'DBI',
'gridExtra',
'ggpubr',
'ggridges',
'httr',
'jsonlite',
'lubridate',
'utf8',
'openxlsx',
'janitor',
'ggthemes',
'ggalluvial',
'ggforce',
'plotly',
'dplyr',
'flextable',
'officer',
'extrafont',
'installr'
))
installr::check.for.updates.R()
installr::install.rtools()
installr::updateR()
installr::is.RStudio()
installr::check.for.updates.R()
uppdatera <- function(list) {
list.of.packages <- list
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
}
uppdatera(c('tidyr',
'readxl',
'stringr',
'ggplot2',
'gganimate',
'png',
'writexl',
'janitor',
'xlsx',
'odbc',
'DBI',
'gridExtra',
'ggpubr',
'ggridges',
'httr',
'jsonlite',
'lubridate',
'utf8',
'openxlsx',
'janitor',
'ggthemes',
'ggalluvial',
'ggforce',
'plotly',
'dplyr',
'flextable',
'officer',
'extrafont',
'installr'
))
uppdatera <- function(list) {
list.of.packages <- list
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages else print("Alla packet uppdaterade"))
}
uppdatera(c('tidyr',
'readxl',
'stringr',
'ggplot2',
'gganimate',
'png',
'writexl',
'janitor',
'xlsx',
'odbc',
'DBI',
'gridExtra',
'ggpubr',
'ggridges',
'httr',
'jsonlite',
'lubridate',
'utf8',
'openxlsx',
'janitor',
'ggthemes',
'ggalluvial',
'ggforce',
'plotly',
'dplyr',
'flextable',
'officer',
'extrafont',
'installr'
))
uppdatera <- function(list) {
list.of.packages <- list
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) {install.packages new.packages} else {print("Alla packet uppdaterade")})
}
uppdatera(c('tidyr',
'readxl',
'stringr',
'ggplot2',
'gganimate',
'png',
'writexl',
'janitor',
'xlsx',
'odbc',
'DBI',
'gridExtra',
'ggpubr',
'ggridges',
'httr',
'jsonlite',
'lubridate',
'utf8',
'openxlsx',
'janitor',
'ggthemes',
'ggalluvial',
'ggforce',
'plotly',
'dplyr',
'flextable',
'officer',
'extrafont',
'installr'
))
uppdatera <- function(list) {
list.of.packages <- list
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
}
uppdatera(c('tidyr',
'readxl',
'stringr',
'ggplot2',
'gganimate',
'png',
'writexl',
'janitor',
'xlsx',
'odbc',
'DBI',
'gridExtra',
'ggpubr',
'ggridges',
'httr',
'jsonlite',
'lubridate',
'utf8',
'openxlsx',
'janitor',
'ggthemes',
'ggalluvial',
'ggforce',
'plotly',
'dplyr',
'flextable',
'officer',
'extrafont',
'installr'
))
library(tidyr)
library(readxl)
library(stringr)
library(ggplot2)
library(gganimate)
library(png)
library(writexl)
library(janitor)
library(xlsx)
library(odbc)
library(DBI)
library(gridExtra)
library(ggpubr)
library(ggridges)
library(httr)
library(jsonlite)
library(lubridate)
library(utf8)
library(openxlsx)
library(janitor)
library(ggthemes)
library(ggalluvial)
library(ggforce)
library(plotly)
library(dplyr)
library(flextable)
library(officer)
library(extrafont)
p1 <- "H:/Statistik/Avtalsfiler SCB-statistik/2019-20/Personal/Filer till databasen"
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"))
View(t1)
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "latin")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "latin1")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "utf8")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "latin1")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "UTF-8")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "UTF-8") %>%
distinct(3,4,5,6,7)
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "UTF-8")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "UTF-8") %>%
distinct(c(3,4,5,6,7))
f1 <- unique(t1$Forskningsämnesområde.0.)
f2 <- unique(t1$Forskningsämnesgrupp.1.)
f3 <- unique(t1$Kön)
f4 <- unique(t1$Åldersgrupp)
class(f1)
is.vector(f4)
vector(c("Biträdande lektorer", "Forskarassistenter", "Postdoktorer", "Övriga meriteringsanställda"))
f5 <-  c("Biträdande lektorer", "Forskarassistenter", "Postdoktorer", "Övriga meriteringsanställda")
expand(f1, f2, f3, f4, f5)
expand(f1)
cbind(f1, f2)
f1
f2
f1, f2
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "UTF-8") %>%
distinct(3, 4, 5, 6)
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "UTF-8")
t1 <- read.csv(file.path(p1, "fou-personal-forskamne-individer_2019_-v1.csv"), sep = ";", encoding = "UTF-8") %>%
distinct_at(.vars = c(4,5,6,7))
install.packages("devtools")
library("devtools")
devtools::install_github("klutometis/roxygen")
devtools::install_github("klutometis/roxygen")
library(roxygen2)
devtools::install_github("klutometis/roxygen")
uninstall(xfun)
uninstall("xfun")
devtools::install_github("klutometis/roxygen")
writeLines('PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"', con = "~/.Renviron")
Sys.which("make")
devtools::install_github("klutometis/roxygen")
devtools::install_github("klutometis/roxygen")
installed.packages()
installed.packages()["Kansler"]
installed.packages()["Kansler/R/"]
installed.packages()["Kansler"]
installed.packages()[1]
installed.packages()[[1]]
installed.packages()[[2]]
installed.packages(1)
installed.packages("Kansler")
installed.packages("Hej")
library(Kansler)
detach("package:Kansler", unload = TRUE)
library(Kansler)
install.packages(c("backports", "codetools", "cowplot", "data.table", "diffobj", "foreign", "gdtools", "ggplot2", "janitor", "KernSmooth", "Matrix", "nlme", "officer"))
library(devtools)
library(roxygen2)
library(tidyr)
library(fs)
library(Kansler)
load_all()
# 6: sätt wd (mapp där filerna projektmappen hamnar) - välj så nära roten (c:/) som möjligt eftersom att åäö ofta innebär strul
setwd("C:/Users/martinl")
load_all()
library(Kansler)
library(devtools)
library(roxygen2)
library(tidyr)
library(fs)
# 6: sätt wd (mapp där filerna projektmappen hamnar) - välj så nära roten (c:/) som möjligt eftersom att åäö ofta innebär strul
setwd("C:/Users/martinl")
# 8: Byt wd till projektmappen
setwd("./Kansler")
load_all()
library(Kansler)
make_df()
x <- make_df()
View(x)
Kansler::gguka_line(x)
Kansler::gguka_line(df1 = x, x = nam, y = num, g = gro)
library(tidyr)
Kansler::gguka_line(df1 = x, x = nam, y = num, g = gro)
library(ggplot2)
library(dplyr)
library(devtools)
unload("Kansler")
devtools::load_all()
df <- make_df() %>% mutate(num = as.numeric(num))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_line(aes(color = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_color_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_bar(stat = "identity", aes(fill = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_fill_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
gguka_line(df1 = df, x = nam, y = num, g = gro)
unload("Kansler")
devtools::load_all()
df <- make_df() %>% mutate(num = as.numeric(num))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_line(aes(color = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_color_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_bar(stat = "identity", aes(fill = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_fill_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
gguka_line(df1 = df, x = nam, y = num, g = gro)
document()
unload("Kansler")
devtools::load_all()
df <- make_df() %>% mutate(num = as.numeric(num))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_line(aes(color = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_color_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_bar(stat = "identity", aes(fill = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_fill_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
gguka_line(df1 = df, x = nam, y = num, g = gro)
unload("Kansler")
devtools::load_all()
df <- make_df() %>% mutate(num = as.numeric(num))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_line(aes(color = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_color_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_bar(stat = "identity", aes(fill = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_fill_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
gguka_line(df1 = df, x = nam, y = num, g = gro)
gguka_line
document()
unload("Kansler")
install_github("Kansler")
install_github("mljswe", "Kansler")
install_github("mljswe/Kansler")
install_github("mljswe/Kansler")
df <- make_df() %>% mutate(num = as.numeric(num))
library(Kansler)
df <- make_df() %>% mutate(num = as.numeric(num))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_line(aes(color = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_color_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_bar(stat = "identity", aes(fill = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_fill_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
gguka_line(df1 = df, x = nam, y = num, g = gro)
gguka_line
document()
library(ggplot2)
library(dplyr)
library(devtools)
library(Kansler)
df <- make_df() %>% mutate(num = as.numeric(num))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_line(aes(color = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_color_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_bar(stat = "identity", aes(fill = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_fill_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
gguka_line(df1 = df, x = nam, y = num, g = gro)
gguka_line
con3 <- dbConnect(odbc(),
Driver = "SQL Server",			         # Driver som anv?nds f?r att koppla mot SQL #
Server = "db-prod",	                 # Servernamnet verkar inneh?lla porten, precis som i SMS-inlogget #
Database = "EkonomiskStatistik",		 # Databas som ska l?sas fr?n #
UID = Sys.getenv("USERNAME"),			   # Samma som p? datorn, borde g? att l?sa fr?n systemet #
PWD = rstudioapi::askForPassword("Database password"),
encoding = "latin1")
df <- make_df() %>% mutate(num = as.numeric(num))
View(df)
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_line(aes(color = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_color_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ggplot(df, aes(x = nam, y = num, group = gro)) +
geom_bar(stat = "identity", aes(fill = gro), size = 0.8) +
theme_uka1(angle = "a0") +
scale_fill_manual(values = as.vector(uka_farg())) +
scale_y_continuous(limits = c(0, max(df[1]*1.20)))
ukauka_farg()
uka_farg()
uka_farg()[1]
uka_farg()[2]
uka_farg_vect
uka_farg_vect["gul1"]
gguka_line(df1 = df, x = nam, y = num, g = gro)
gguka_line(df1 = df, x = nam, y = num, g = gro)
